<div class="container mt-5">
  <h2 class="mb-4">Autocadastro</h2>
  <form (ngSubmit)="inserir()" #formCadastro="ngForm">

    <!-- Dados Pessoais -->
    <div class="mb-3">
      <label for="cpf" class="form-label">CPF</label>
      <input
        type="text"
        class="form-control"
        id="cpf"
        placeholder="Digite seu CPF"
        [(ngModel)]="cliente.cpf"
        name="cpf"
        required
        mask="000.000.000-00"
        #cpfModel="ngModel">
      <div *ngIf="cpfModel.invalid && (cpfModel.dirty || cpfModel.touched)" class="text-danger">
        CPF no formato inválido. Utilize: 000.000.000-00.
      </div>
    </div>

    <div class="mb-3">
      <label for="nome" class="form-label">Nome</label>
      <input
        type="text"
        class="form-control"
        id="nome"
        placeholder="Digite seu nome completo"
        [(ngModel)]="cliente.nome"
        name="nome"
        required
        #nomeModel="ngModel">
      <div *ngIf="nomeModel.invalid && (nomeModel.dirty || nomeModel.touched)" class="text-danger">
        Informe seu nome completo.
      </div>
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">E-mail</label>
      <input
        type="email"
        class="form-control"
        id="email"
        placeholder="Digite seu e-mail"
        [(ngModel)]="cliente.email"
        name="email"
        required
        #emailModel="ngModel">
      <div *ngIf="emailModel.invalid && (emailModel.dirty || emailModel.touched)" class="text-danger">
        Insira um e-mail válido.
      </div>
    </div>
    
    <!-- Novo campo Senha -->
    <div class="mb-3">
      <label for="senha" class="form-label">Senha</label>
      <input
        type="password"
        class="form-control"
        id="senha"
        placeholder="Digite sua senha"
        [(ngModel)]="cliente.senha"
        name="senha"
        required
        #senhaModel="ngModel">
      <div *ngIf="senhaModel.invalid && (senhaModel.dirty || senhaModel.touched)" class="text-danger">
        A senha é obrigatória.
      </div>
    </div>

    <!-- Endereço -->
    <h4 class="mt-4">Endereço</h4>
    <div class="row mb-3">
      <div class="col-md-4">
        <label for="cep" class="form-label">CEP</label>
        <input
          type="text"
          class="form-control"
          id="cep"
          placeholder="Digite seu CEP"
          [(ngModel)]="cliente.cep"
          name="cep"
          required
          mask="00000-000"
          #cepModel="ngModel">
        <div *ngIf="cepModel.invalid && (cepModel.dirty || cepModel.touched)" class="text-danger">
          CEP no formato inválido. Utilize: 00000-000.
        </div>
      </div>
      <div class="col-md-8">
        <label for="rua" class="form-label">Rua</label>
        <input
          type="text"
          class="form-control"
          id="rua"
          placeholder="Nome da rua"
          [(ngModel)]="cliente.rua"
          name="rua"
          readonly>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-4">
        <label for="numero" class="form-label">Número</label>
        <input
          type="text"
          class="form-control"
          id="numero"
          placeholder="Número"
          [(ngModel)]="cliente.numero"
          name="numero"
          required
          #numeroModel="ngModel">
        <div *ngIf="numeroModel.invalid && (numeroModel.dirty || numeroModel.touched)" class="text-danger">
          Informe o número.
        </div>
      </div>
      <div class="col-md-8">
        <label for="complemento" class="form-label">Complemento</label>
        <input
          type="text"
          class="form-control"
          id="complemento"
          placeholder="Complemento"
          [(ngModel)]="cliente.complemento"
          name="complemento">
      </div>
    </div>
    <div class="mb-3">
      <label for="bairro" class="form-label">Bairro</label>
      <input
        type="text"
        class="form-control"
        id="bairro"
        placeholder="Bairro"
        [(ngModel)]="cliente.bairro"
        name="bairro"
        readonly>
    </div>
    <div class="row mb-3">
      <div class="col-md-6">
        <label for="cidade" class="form-label">Cidade</label>
        <input
          type="text"
          class="form-control"
          id="cidade"
          placeholder="Cidade"
          [(ngModel)]="cliente.cidade"
          name="cidade"
          readonly>
      </div>
      <div class="col-md-6">
        <label for="estado" class="form-label">Estado</label>
        <input
          type="text"
          class="form-control"
          id="estado"
          placeholder="Estado"
          [(ngModel)]="cliente.estado"
          name="estado"
          readonly>
      </div>
    </div>
    
    <!-- Contato -->
    <div class="mb-3">
      <label for="telefone" class="form-label">Telefone</label>
      <input
        type="text"
        class="form-control"
        id="telefone"
        placeholder="Digite seu telefone"
        [(ngModel)]="cliente.telefone"
        name="telefone"
        required
        mask="(00) 00000-0000"
        #telefoneModel="ngModel">
      <div *ngIf="telefoneModel.invalid && (telefoneModel.dirty || telefoneModel.touched)" class="text-danger">
        Telefone no formato inválido. Utilize: (00) 00000-0000.
      </div>
    </div>
    
    <button type="submit" class="btn btn-primary" [disabled]="formCadastro.invalid">Cadastrar</button>
  </form>
</div>
